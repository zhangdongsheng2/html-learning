<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>restapi</title>
</head>
<body>
<div>
    <button onclick="testGet()">GET请求</button>
    <button onclick="testPOST()">POST请求</button>
    <button onclick="testPut()">PUT请求</button>
    <button onclick="testDelete()">DELETE请求</button>
</div>
</body>
<script src="https://cdn.bootcss.com/axios/0.19.0/axios.js"></script>
<script type="text/javascript" >
    console.log('===========================基本使用===================================')
    //指定默认值
    axios.defaults.baseURL = 'http://localhost:3000'
    //GET请求
    function testGet() {
        // axios.get("http://localhost:3000/posts/1")
        //     .then(response => {
        //         console.log(response.data)
        //     })

        axios({
            url: '/posts',
            params:{
                id:1,
            }
        }).then(response => {
            console.log(response.data)
        })
    }

    //POST请求
    function testPOST() {
        // axios.post("http://localhost:3000/posts",{"title":"json-server3","auther":"typicode3"})
        //     .then(response => {
        //         console.log(response.data)
        //     })

        axios({
            url: '/posts',
            method: 'POST',
            data:{"title": "json-server39", "auther": "typicode39"}
        }).then(response => {
            console.log(response.data)
        })
    }

    //PUT请求
    function testPut() {
        // axios.put("http://localhost:3000/posts/3",{"title":"json-server9993","auther":"typicode3"})
        //     .then(response => {
        //         console.log(response.data)
        //     })

        axios({
            url: '/posts/5',
            method: 'PUT',
            data:{"title": "json-999", "auther": "999"}
        }).then(response => {
            console.log(response.data)
        })
    }

    //DElete请求
    function testDelete() {
        // axios.delete("http://localhost:3000/posts/3")
        //     .then(response => {
        //         console.log(response.data)
        //     })

        axios({
            url: '/posts/5',
            method: 'delete'
        }).then(response => {
            console.log(response.data)
        })
    }


    console.log('===========================axios.create===================================')
    /**
     * 1). axios.create(config)
     *   a. 根据指定配置创建一个新的axios, 也就就每个新axios都有自己的配置
     *   b. 新axios只是没有取消请求和批量发请求的方法, 其它所有语法都是一致的
     *   c. 为什么要设计这个语法?
     *     需求: 项目中有部分接口需要的配置与另一部分接口需要的配置不太一样, 如何处理
     *     解决: 创建2个新axios, 每个都有自己特有的配置, 分别应用到不同要求的接口请求中
     */

    const instance = axios.create({
        baseURL: 'http://localhost:4000'
    })
    instance({
        url:'/xxx' //请求新的地址
    })







</script>
</html>
